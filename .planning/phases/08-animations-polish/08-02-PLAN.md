---
phase: 08-animations-polish
plan: 02
type: execute
---

<objective>
Add scroll-triggered animations to ValueProp sections and Card grids using Framer Motion's whileInView, creating engaging scroll experiences that enhance content discovery.

Purpose: Guide user attention through content sections with smooth reveal animations as they scroll, maintaining engagement throughout long pages.
Output: Scroll-animated ValueProp sections, Card grids with staggered reveals, ContactCTA animations.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Key existing components
@src/components/sections/ValueProp.tsx
@src/components/ui/Card.tsx
@src/components/sections/ContactCTA.tsx
@src/app/services/page.tsx
@src/app/training/page.tsx

# Discovery findings
**Framer Motion whileInView pattern:**
- `whileInView` prop sets animation target when element enters viewport
- `initial` defines starting state before scroll
- `viewport={{ once: true }}` fires animation only once (not on scroll up/down)
- `viewport={{ amount: 0.3 }}` triggers when 30% of element is visible
- Cleaner than Intersection Observer for scroll animations

**Animation timing for scroll reveals:**
- Duration: 0.6-0.8s (slightly slower than entrance for smoothness)
- Ease: "easeOut" for natural deceleration
- Stagger: 0.1s delays for card grids
- Movement: Fade + slight upward (y: 20→0) for lift effect

**Performance considerations:**
- `viewport={{ once: true }}` prevents re-animation (better performance)
- Avoid animating too many elements simultaneously
- Keep transforms simple (opacity, y) for GPU acceleration

**Tech stack available:**
- Framer Motion 12.33.0 with whileInView support
- Next.js 15 App Router
- TypeScript, Tailwind CSS
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add whileInView animations to ValueProp sections</name>
  <files>src/components/sections/ValueProp.tsx</files>
  <action>
Convert ValueProp component to client component and add scroll-triggered animations:

1. Add "use client" directive at top of ValueProp.tsx
2. Import motion from "framer-motion"
3. Wrap the inner content div (the one with text-center class) in motion.div with:
   - initial: { opacity: 0, y: 30 }
   - whileInView: { opacity: 1, y: 0 }
   - viewport: {{ once: true, amount: 0.3 }}
   - transition: {{ duration: 0.7, ease: "easeOut" }}

**Implementation details:**
- Only animate the content div (Container > motion.div), not the section wrapper
- Use y: 30 for noticeable but not excessive upward movement
- viewport amount: 0.3 means trigger when 30% visible (good for large sections)
- viewport once: true prevents re-animation on scroll up (better performance)

**Reasoning:** ValueProp sections are tall (py-16 md:py-24), so triggering at 30% visibility means animation starts as section enters lower viewport, completing as user reads the title.

Avoid: Animating icon separately (keep it with content), animating section wrapper (className prop concatenation issues), multiple whileInView triggers (one per section is enough).
  </action>
  <verify>Visit http://localhost:3000/forest-managers and scroll - each ValueProp section should fade and slide up as it enters viewport. Animation should fire once per section.</verify>
  <done>ValueProp component converted to client component with whileInView scroll animations. Each section animates smoothly as user scrolls.</done>
</task>

<task type="auto">
  <name>Task 2: Add staggered scroll animations to Card grids</name>
  <files>src/app/services/page.tsx, src/app/training/page.tsx</files>
  <action>
Add scroll-triggered staggered animations to Card grids on services and training pages:

**Services page (src/app/services/page.tsx):**
1. Add "use client" directive at top
2. Import motion from "framer-motion"
3. Identify Card components in grids (both sections have 2-column and 3-column grids)
4. Wrap each Card in motion.div with:
   - initial: { opacity: 0, y: 20 }
   - whileInView: { opacity: 1, y: 0 }
   - viewport: {{ once: true, amount: 0.2 }}
   - transition: {{ duration: 0.6, delay: [index * 0.1], ease: "easeOut" }}

**Stagger pattern:** First card no delay, second card 0.1s, third card 0.2s, fourth card 0.3s, etc.

**Training page (src/app/training/page.tsx):**
- Same pattern as services page
- 2x2 grid of training video cards
- Stagger delays: 0, 0.1s, 0.2s, 0.3s (top-left to bottom-right)

**Implementation approach:**
- Map over cards array if structured that way, or manually add motion.div wrapper to each Card
- viewport amount: 0.2 (trigger earlier since cards are smaller than ValueProp sections)
- Keep Card component itself unchanged (wrap it, don't modify it)

Avoid: Modifying Card.tsx itself (would trigger animations everywhere), animating grid container (animate children individually for stagger), complex orchestration (simple delays work fine).
  </action>
  <verify>Visit http://localhost:3000/services and scroll - service cards should fade/slide up with stagger. Visit /training - video cards should animate with stagger. Smooth on scroll, no jank.</verify>
  <done>Services and training page cards animate in with stagger as user scrolls to them. Professional reveal effect guides attention through content.</done>
</task>

<task type="auto">
  <name>Task 3: Add scroll animation to ContactCTA sections</name>
  <files>src/components/sections/ContactCTA.tsx</files>
  <action>
Convert ContactCTA component to client component and add scroll-triggered animation:

1. Add "use client" directive at top of ContactCTA.tsx
2. Import motion from "framer-motion"
3. Identify the content container (likely the div with text-center and button group)
4. Wrap content in motion.div with:
   - initial: { opacity: 0, scale: 0.95 }
   - whileInView: { opacity: 1, scale: 1 }
   - viewport: {{ once: true, amount: 0.5 }}
   - transition: {{ duration: 0.6, ease: "easeOut" }}

**Animation choice:** Scale (0.95→1) + fade for ContactCTA creates emphasis effect - the CTA "pops" into view as final conversion opportunity.

**Viewport amount:** 0.5 (50% visible) ensures CTA is well in viewport before animating, making it feel more intentional.

Avoid: Animating buttons separately (animate container as unit), using y-axis movement (scale is more unique for CTA), complex stagger (CTA should appear as unified block).
  </action>
  <verify>Visit http://localhost:3000/forest-managers and scroll to bottom - ContactCTA section should fade and scale in smoothly. Same on /subcontractors page.</verify>
  <done>ContactCTA sections animate with subtle scale effect as they enter viewport. Creates emphasis on conversion opportunity without being pushy.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] npm run build succeeds without errors or warnings
- [ ] npm run dev starts successfully
- [ ] Test scroll animations on all pages:
  - [ ] /forest-managers - ValueProp sections and ContactCTA animate on scroll
  - [ ] /services - Card grids animate with stagger
  - [ ] /subcontractors - ValueProp sections and ContactCTA animate
  - [ ] /training - Video cards animate with stagger
- [ ] Animations fire once (viewport once: true working)
- [ ] No layout shift during animations
- [ ] Smooth performance on scroll (no jank or frame drops)
- [ ] No TypeScript errors
</verification>

<success_criteria>

- All tasks completed
- ValueProp sections animate on scroll across all pages
- Card grids on services/training pages animate with stagger
- ContactCTA sections animate with scale effect
- All animations use whileInView with viewport once: true
- Performance smooth, no jank on scroll
- Build passes without errors
- Animations enhance content discovery without distraction
</success_criteria>

<output>
After completion, create `.planning/phases/08-animations-polish/08-02-SUMMARY.md`:

---
phase: 08-animations-polish
plan: 02
subsystem: components
tags: [framer-motion, scroll-animations, whileInView, valueProps, cards, contactCTA]

# Dependency graph
requires:
  - phase: 08-animations-polish
    plan: 01
    provides: Animation foundation and patterns
  - phase: 04-forest-manager-funnel
    provides: ValueProp and ContactCTA components
  - phase: 05-services-deep-dive
    provides: Service cards page
  - phase: 07-training-videos
    provides: Training video cards page
provides:
  - Scroll-triggered animations across all content sections
  - Staggered card reveal animations
  - Complete animation system (entrance + scroll)
affects: [09-seo-performance]

# Tech tracking
tech-stack:
  added: [Framer Motion whileInView scroll animations]
  patterns: [whileInView with viewport once:true, staggered card animations, scroll-triggered reveals]

key-files:
  created: []
  modified: [src/components/sections/ValueProp.tsx, src/components/sections/ContactCTA.tsx, src/app/services/page.tsx, src/app/training/page.tsx]

key-decisions:
  - "viewport once:true for all scroll animations (better performance, prevents re-animation)"
  - "viewport amount: 0.3 for large sections (ValueProp), 0.2 for cards, 0.5 for CTA"
  - "Scale animation for ContactCTA (emphasis effect different from fade/slide pattern)"
  - "Stagger delays 0.1s per card for professional pacing"

patterns-established:
  - "Scroll animation pattern: whileInView + viewport once:true + amount threshold"
  - "Card stagger pattern: index * 0.1s delay for grid reveals"
  - "Animation variety: fade+slide for sections, fade+scale for CTAs"

issues-created: []

# Metrics
duration: [X]min
completed: [DATE]
---

# Phase 08 Plan 02: Scroll-Triggered Section Animations Summary

**[One-liner describing what shipped - e.g., "Scroll-triggered animations added to all content sections, creating engaging progressive disclosure"]**

## Accomplishments

- Added whileInView animations to ValueProp sections across all pages
- Implemented staggered card reveal animations on services and training pages
- Added scale animation to ContactCTA sections for conversion emphasis
- All scroll animations use viewport once:true for optimal performance

## Files Created/Modified

- `src/components/sections/ValueProp.tsx` - Added scroll-triggered fade/slide animation
- `src/components/sections/ContactCTA.tsx` - Added scroll-triggered scale animation
- `src/app/services/page.tsx` - Wrapped service cards with staggered animations
- `src/app/training/page.tsx` - Wrapped training cards with staggered animations

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Phase Readiness

Phase 8 complete. Animation system fully implemented:
- Entrance animations on page load (hero, navigation)
- Scroll animations throughout content (ValueProps, Cards, CTAs)
- Professional timing and easing throughout
- Optimal performance with viewport once:true

Ready for Phase 9 (SEO & Performance)
</output>
