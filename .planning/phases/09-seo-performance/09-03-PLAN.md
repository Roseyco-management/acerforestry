---
phase: 09-seo-performance
plan: 03
type: execute
---

<objective>
Test site performance on mobile devices and slow connections, verify Core Web Vitals, and optimize for rural Scotland's network conditions.

Purpose: Ensure Forest Managers can access the site quickly from remote locations with 3G/4G connections. Validate that all optimizations work in real-world conditions.
Output: Performance audit results, mobile responsiveness verification, and any necessary fixes for slow connection scenarios.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Previous phase summaries
@.planning/phases/09-seo-performance/09-01-SUMMARY.md
@.planning/phases/09-seo-performance/09-02-SUMMARY.md

**Tech stack available:** Next.js 15.5.12, React 19, TypeScript, Tailwind CSS, Framer Motion
**Established patterns:** Mobile-first responsive design from Phase 2-3, animations optimized in Phase 8
**Constraining decisions:**
- Phase 02: Mobile-first design system with responsive breakpoints
- Phase 03: Responsive header with mobile menu
- Project requirement: Fast loading on rural Scotland connections

**Current state:**
- SEO metadata complete (09-01)
- Performance optimizations configured (09-02)
- Site built with mobile-first Tailwind breakpoints
- No real-world mobile/slow connection testing yet
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run Lighthouse audit and document baseline performance</name>
  <files>.planning/phases/09-seo-performance/lighthouse-report.md</files>
  <action>
    Build production version and run Lighthouse audit:

    ```bash
    npm run build
    npm run start
    # In separate terminal:
    npx lighthouse http://localhost:3000 --output=json --output=html --output-path=./lighthouse-report --chrome-flags="--headless"
    ```

    Run Lighthouse for all key pages:
    - / (home)
    - /forest-managers
    - /services
    - /subcontractors
    - /training

    Focus on Core Web Vitals:
    - **LCP (Largest Contentful Paint)**: Target <2.5s
    - **FID (First Input Delay)**: Target <100ms
    - **CLS (Cumulative Layout Shift)**: Target <0.1
    - **FCP (First Contentful Paint)**: Target <1.8s
    - **TTI (Time to Interactive)**: Target <3.8s

    Create .planning/phases/09-seo-performance/lighthouse-report.md documenting:
    - Performance scores for each page
    - Core Web Vitals metrics
    - Any warnings or issues
    - Recommendations for improvement

    **If scores are:**
    - Performance >90: Excellent, document and proceed
    - Performance 75-90: Good, note minor improvements
    - Performance <75: Identify bottlenecks, fix if quick wins available

    Common issues and fixes:
    - Unused JavaScript: Already optimizing Framer Motion in 09-02
    - Font loading: Already using display:swap
    - Third-party scripts: Already using afterInteractive
    - Images: No images yet (only SVG logo), won't be an issue

    Save HTML reports to .planning/phases/09-seo-performance/ for reference.
  </action>
  <verify>Lighthouse reports exist for 5 pages. Performance scores documented in lighthouse-report.md. Core Web Vitals metrics recorded.</verify>
  <done>Baseline performance metrics captured. Core Web Vitals documented. Any major issues (<75 performance) identified with action items.</done>
</task>

<task type="auto">
  <name>Task 2: Test mobile responsiveness and simulate slow connections</name>
  <files>.planning/phases/09-seo-performance/mobile-testing.md</files>
  <action>
    **Automated responsive testing:**

    Build and start production server:
    ```bash
    npm run build
    npm run start
    ```

    Test all pages at mobile breakpoints using Chrome DevTools Device Toolbar:
    - iPhone SE (375px) - Small mobile
    - iPhone 14 Pro (393px) - Standard mobile
    - iPad Mini (768px) - Tablet
    - Desktop (1280px+) - Desktop

    Pages to test:
    - / (home)
    - /forest-managers
    - /services
    - /subcontractors
    - /training

    Verify on each:
    - ✅ Navigation menu works (mobile hamburger, desktop links)
    - ✅ Text is readable (no overflow, proper wrapping)
    - ✅ Buttons are tappable (min 44x44px touch targets)
    - ✅ Images/sections don't break layout
    - ✅ Hero sections display properly
    - ✅ Footer stacks correctly on mobile
    - ✅ Forms (contact CTAs) are usable

    **Slow connection simulation:**

    Use Chrome DevTools Network throttling:
    - Slow 3G (400ms RTT, 400kbps down, 400kbps up)
    - Fast 3G (562.5ms RTT, 1.6Mbps down, 750kbps up)

    Load each page and verify:
    - ✅ Content appears within 5 seconds
    - ✅ No layout shift during load (CLS)
    - ✅ Loading states are acceptable
    - ✅ Fonts swap in cleanly (no FOIT)
    - ✅ Analytics don't block rendering

    **Document results:** Create .planning/phases/09-seo-performance/mobile-testing.md with:
    - Responsive breakpoint test results (pass/fail per page)
    - Slow connection test results (load times, issues)
    - Any layout issues discovered
    - Any necessary fixes

    **Common responsive issues to check:**
    - Hero text too large on mobile? Use Tailwind text-4xl lg:text-5xl pattern
    - Buttons too small? Should be min-h-11 (44px)
    - Horizontal scroll? Check container max-widths
    - Menu doesn't close? Check mobile menu state handling

    If issues found, fix immediately and document in summary. If mobile menu or layout breaks, this is blocking.
  </action>
  <verify>mobile-testing.md exists with test results. All pages pass responsive tests at 375px, 768px, 1280px. Slow 3G load times documented. No layout breaks.</verify>
  <done>Mobile responsiveness verified across 5 pages and 3 breakpoints. Slow connection performance tested and documented. Any critical issues fixed.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Fully optimized site with SEO metadata, performance config, and mobile responsiveness tested on multiple devices and connection speeds</what-built>
  <how-to-verify>
    **Manual verification steps:**

    1. **Start production server:**
       ```bash
       npm run build
       npm run start
       ```
       Production server runs at http://localhost:3000

    2. **Test on your actual mobile device:**
       - Find your local IP: `ifconfig | grep "inet " | grep -v 127.0.0.1`
       - On mobile, visit: http://[YOUR_IP]:3000
       - Navigate through all 5 pages (home, forest-managers, services, subcontractors, training)
       - Verify touch targets work, text is readable, animations are smooth

    3. **Check SEO metadata:**
       - Use view-source:http://localhost:3000 to inspect HTML
       - Verify <title>, <meta description>, OpenGraph tags present
       - Check JSON-LD structured data in source

    4. **Test in different browsers:**
       - Chrome (primary)
       - Safari (iOS/macOS common)
       - Firefox (alternate)

    5. **Verify Core Web Vitals in console:**
       - Open Chrome DevTools console
       - Navigate to pages, watch for Web Vitals logs
       - Confirm LCP, FID, CLS metrics appear

    6. **Check slow connection simulation:**
       - DevTools > Network > Throttling > Slow 3G
       - Reload pages, verify acceptable load experience
       - Confirm content appears within 5 seconds

    **Expected results:**
    - All pages load and function correctly on mobile
    - SEO tags present and correct
    - Animations smooth, no jank
    - Slow connections still usable
    - No console errors

    **Common issues:**
    - Layout shift on slow load → May need loading placeholders
    - Animations janky on mobile → May need to reduce motion for mobile
    - Menu doesn't work on touch → Check click vs touch handlers
    - Fonts flash → Verify display:swap working
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe any issues found that need fixing</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Lighthouse reports generated for 5 pages
- [ ] Performance scores documented (target >75, ideal >90)
- [ ] Mobile responsiveness tested at 375px, 768px, 1280px
- [ ] Slow 3G connection tested and documented
- [ ] User has verified on actual mobile device
- [ ] No critical layout or performance issues
- [ ] User approved in checkpoint
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- Lighthouse performance scores >75 (ideally >90)
- Core Web Vitals meet targets (LCP <2.5s, FID <100ms, CLS <0.1)
- Mobile responsive at all breakpoints
- Site usable on slow 3G connections
- User approval from checkpoint testing
- Phase 9 complete - ready for Phase 10 (Deployment)
</success_criteria>

<output>
After completion, create `.planning/phases/09-seo-performance/09-03-SUMMARY.md`:

# Phase 09 Plan 03: Mobile & Performance Testing Summary

**[Substantive one-liner - what shipped, not "phase complete"]**

## Accomplishments

- Generated Lighthouse performance audits for 5 key pages
- Documented Core Web Vitals baseline metrics (LCP, FID, CLS)
- Verified mobile responsiveness at 375px, 768px, 1280px breakpoints
- Tested slow connection performance (3G simulation)
- User verified site on actual mobile devices
- Any critical issues fixed during testing

## Files Created/Modified

- `.planning/phases/09-seo-performance/lighthouse-report.md` - Performance audit results
- `.planning/phases/09-seo-performance/mobile-testing.md` - Mobile and slow connection test results
- [Any files fixed during testing]

## Decisions Made

[Document any performance tradeoffs or mobile-specific optimizations]

## Issues Encountered

[Document testing issues found and fixes applied, or "None"]

## Next Phase Readiness

Phase 9 complete. Site is SEO-optimized and performance-tested:
- ✅ Comprehensive metadata on all pages (09-01)
- ✅ Performance optimizations configured (09-02)
- ✅ Mobile and slow connection verified (09-03)

Ready for Phase 10 (Deployment & Testing) - final Vercel deployment and production launch.
</output>
